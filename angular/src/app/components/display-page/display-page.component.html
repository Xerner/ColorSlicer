<div class="shadow-inner bg-slate-300 w-full h-full flex flex-col">
  <mat-tab-group (selectedTabChange)="onTabChange($event)">
    <mat-tab label="Raw Image"></mat-tab>
    <mat-tab [disabled]="!hasClusteredImageData()" label="Kmeans Clustered"></mat-tab>
  </mat-tab-group>
  @switch (tabIndex) {
    @case (0) {
      <app-display-canvas 
        class="grow"
        [imageData]="rawImage()"
        [scale]="sliderValue()"
        (context)="onRawImageCanvasContextReady($event)"></app-display-canvas>
    }
    @case (1) {
      <!-- <app-display-canvas class="h-full flex justify-center items-center"></app-display-canvas> -->
    }
    @default {
      <div>Invalid Tab</div>
    }
  }
  <mat-toolbar class="gap-x-3">
    <mat-slider min="0.5" max="5" step="0.01" [disabled]="!hasRawImageData()" discrete [displayWith]="formatSliderLabel" style="width: 100%;">
      <input matSliderThumb [value]="sliderRawValue()" (valueChange)="onSliderChange($event)" style="width: 100%;">
    </mat-slider>
    <mat-icon>close</mat-icon>
    <input type="number" [value]="sliderMultiplier()" [disabled]="!hasRawImageData()" (change)="onSliderMultiplierChange($event)" class="scale-multiplier p-1 mat-toolbar border-b-2">
  </mat-toolbar>
</div>
